version: 1.0.5
cache: true

# UI Customization
interface:
  # Custom welcome message for Sovereign AI
  customWelcome: |
    Welcome to Sovereign AI, {{user.name}}!
    
    ðŸš€ Select a specialized agent from the sidebar to begin:
    â€¢ DarkJK Coach - Strategic business coaching
    â€¢ Hybrid Offer Creator - Design compelling offers
    â€¢ Content Creator - Generate engaging content
    
    ðŸ’¡ Tip: Type "begin" after selecting an agent to start your session
  
  endpointsMenu: true      # Show endpoint selection
  modelSelect: true        # Show model selection
  parameters: false        # Hide parameters for clean UI
  presets: false          # Hide preset management
  agents: true            # Show agents
  agentBuilder: false     # Hide agent builder for regular users
  sidePanel: true         # Show side panel
  speechToText: true      # Keep voice input
  textToSpeech: false     # Disable TTS for now
  customFooter: "James Kemp 2025 Â© | [LibreChat](https://librechat.ai) - Powered by SovereignAI"

# Enable registration for initial setup
registration:
  enabled: true          # Allow registration
  allowedDomains: []    # Accept all domains

# Business tool agents configuration
endpoints:
  # Only show assistants and agents
  openAI:
    disableBuilder: true
    modelDisplayLabel: "OpenAI"
  
  # Assistants endpoint configuration (for DarkJK)
  assistants:
    disableBuilder: false   # Enable builder UI for managing assistants
    modelDisplayLabel: "Tools/Coaches"
    capabilities:
      - "retrieval"         # For knowledge base (correct name for assistants)
      - "code_interpreter"  # For calculations
    fileConfig:
      isEnabled: true
      fileLimit: 5
      fileSizeLimit: 10    # 10MB
  
  agents:
    # Enable agent builder for creating business tools
    disableBuilder: false
    modelDisplayLabel: "AI Agents"
    recursionLimit: 100
    maxRecursionLimit: 200
    # Enable all capabilities for business tools
    capabilities:
      - "file_search"     # Re-enabled for agents that need it
      - "artifacts"       # For document generation
      - "tools"          # For custom tools
      - "actions"        # For API integrations
      - "web_search"     # For current information

# File handling configuration
fileConfig:
  endpoints:
    agents:
      fileLimit: 10
      fileSizeLimit: 20  # 20MB
      supportedMimeTypes:
        - "text/plain"
        - "text/markdown"
        - "application/pdf"
        - "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
        - "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
        - "text/csv"
        - "image/png"
        - "image/jpeg"
        - "image/gif"

# Web Search Configuration
webSearch:
  # Search Provider Configuration
  serperApiKey: "${SERPER_API_KEY}"
  searchProvider: "serper" # Options: "serper", "searxng"
 
  # Scraper Configuration
  firecrawlApiKey: "${FIRECRAWL_API_KEY}"
  firecrawlApiUrl: "${FIRECRAWL_API_URL}"
  scraperType: "firecrawl" # Options: "firecrawl", "serper"
 
  # Reranker Configuration
  jinaApiKey: "${JINA_API_KEY}"
  cohereApiKey: "${COHERE_API_KEY}"
  rerankerType: "jina" # Options: "jina", "cohere"
 
  # General Settings
  scraperTimeout: 7500 # Timeout in milliseconds for scraper requests (default: 7500)
  safeSearch: 1 # Options: 0 (OFF), 1 (MODERATE - default), 2 (STRICT)

# Rate limiting
rateLimits:
  fileUploads:
    ipMax: 50
    ipWindowInMinutes: 60
    userMax: 30
    userWindowInMinutes: 60
  conversationsImport:
    ipMax: 100
    ipWindowInMinutes: 60
    userMax: 50
    userWindowInMinutes: 60

# Memory configuration for business context
memory:
  # Keep memory enabled
  disabled: false
  
  # Restrict memory keys for business consistency
  validKeys: [
    "business_info",      # Company details, industry, size
    "target_audience",    # Ideal client profile
    "services_pricing",   # What they offer and pricing
    "methodology",        # Unique approach or framework
    "goals_challenges",   # Current objectives and pain points
    "preferences",        # Communication style, tool preferences
    "history"            # Past interactions and decisions
  ]
  
  # Generous token limit for business context
  tokenLimit: 20000
  
  # Always personalize
  personalize: true
  
  # Memory processing agent
  agent:
    provider: "openai"
    model: "gpt-4o-mini"
    instructions: |
      You are a business memory assistant. Store and organize information about the user's business.
      
      Guidelines:
      - Only store explicitly shared business information
      - Organize information into appropriate keys
      - Keep entries concise but comprehensive
      - Update existing entries when new information is provided
      - Never store sensitive data like passwords or API keys
      
      Focus on:
      - Business model and structure
      - Target audience and ideal clients
      - Services, products, and pricing
      - Unique methodologies or frameworks
      - Goals, challenges, and priorities
    model_parameters:
      temperature: 0.1

# MCP (Model Context Protocol) Servers
mcpServers:
  # Playwright for browser automation
  playwright:
    type: stdio
    command: npx
    args:
      - "@playwright/mcp@latest"
    timeout: 300000  # 5 minutes for browser operations
    chatMenu: true
    description: "Browser automation - navigate, click, fill forms, take screenshots"
    
  # Perplexity for AI research
  perplexity:
    type: stdio
    command: npx
    args:
      - "perplexity-mcp"
    env:
      PERPLEXITY_API_KEY: "${PERPLEXITY_API_KEY}"
    timeout: 120000  # 2 minutes for searches
    chatMenu: true
    description: "AI-powered web research and deep analysis"